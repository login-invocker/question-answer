<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="./css/manageuser.css">
    <link rel="stylesheet" href="./vendors/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.2.0/css/all.css" integrity="sha384-
    hWVjflwFxL6sNzntih27bfxkr27PmbbK/iSvJ+a4+0owXq79v+lsFkW54bOGbiDQ" crossorigin="anonymous">
</head>
<body>
   <marquee behavior="" direction="" class="p-3 bg-primary text-white">
        <h3 class="" id="header">
            User Management
        </h3>
   </marquee>
    <table class="table" id="table">
        <thead>
            <tr>
                <th>STT</th>
                <th>UserName</th>
                <th>Email</th>
                <th>Phone</th>
                <th>Role</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody id="tbody">

        </tbody>
    </table>
    <div id="container">
        <div class="card border border-secondary rounded" id="card">
            <div class="card-header " id="card-header">
                <h4>InfoUser</h4> 
                <button id="close" class="btn btn-primary"><i class="fas fa-times"></i></button>
            </div>
            <div class="card-body" id="card-body">
    
            </div>
            <div class="card-footer" id="card-footer">

            </div>
        </div>
    </div>

    <script src="./vendors/jquery/jquery-2.2.4.min.js"></script>
    <script>
        var arr1 = [
            {
                "id": 01,
                "userName":"tienvu112",
                "fullName": "vu tien",
                "userPass": "deptrai",
                "userEmail": "vutiendzil@gmail.com",
                "cellPhone": "0338660122",
                "dateOfBirth": "2000-07-15",
                "sex": "nam",
                "role": null
            },
            {
                "id": 02,
                "userName":"tungnui221",
                "fullName": "thanh tung",
                "userPass": "deptrai",
                "userEmail": "tung@gmail.com",
                "cellPhone": "0338660122",
                "dateOfBirth": "2000-07-15",
                "sex": "nam",
                "role": null
            },
            {
                "id": 03,
                "userName":"oaiker222",
                "fullName": "thanh tung",
                "userPass": "deptrai",
                "userEmail": "tung@gmail.com",
                "cellPhone": "0338660122",
                "dateOfBirth": "2000-07-15",
                "sex": "nam",
                "role": null
            },
            {
                "id": 04,
                "userName":"vuongkim222",
                "fullName": "thanh tung",
                "userPass": "deptrai",
                "userEmail": "tung@gmail.com",
                "cellPhone": "0338660122",
                "dateOfBirth": "2000-07-15",
                "sex": "nam",
                "role": null
            }
        ]

        
            // document.getElementById("tbody").innerHTML = function() {
            //     for(i = 0 ; i < arr1.length ; i ++) {
                    
            //     }
            // }
               
            for ( i = 0 ; i < arr1.length ; i++) {
                document.getElementById("tbody").innerHTML +=
                
       
                
                "<td>"+(i+1)+"</td><td>"+arr1[i]["userName"]+"</td><td>"+arr1[i]["userEmail"]+"</td><td>"+
                    arr1[i]["cellPhone"] + "</td><td>"+arr1[i]["role"] +"</td><td>"
                +
                        
                        `
                <button class='btn' id='view' onClick="getInfoUser(${arr1[i]["id"]})" >
                <i class='fas fa-eye'></i></button> <button class='btn' id='delete'><i class='fas fa-trash'></i></button></td>`
               
            }

            const getInfoUser = (id) => {
                document.getElementById("card").style.display = "block"
                let content = arr1.map( (arr) => {
                        if (id === arr.id) {
                            return arr
                        }
                    })
                    
                content = content.filter(function( user ) {
                    return user !== undefined;
                });

                // document.getElementById("card-body").innerHTML = content[0]["userName"]

                document.getElementById("card-body").innerHTML = `<div>User Name : ${content[0]["userName"]}</div><div>Full Name : ${content[0]["fullName"]}</div><div>User Email : ${content[0]["userEmail"]}</div><div>Phone Number : ${content[0]["cellPhone"]}</div><div>User Pass : ${content[0]["userPass"]}</div><div>Sex : ${content[0]["sex"]}</div><div>Role : ${content[0]["role"]}</div>`
                
            }
            document.getElementById('close').onclick = function() {
                document.getElementById('card').style.display = 'none'
            }
            // document.getElementById("view").onclick = function() {
            //     arr1.forEach( user=> {
                   

            //         userInfo = content
            //     } )
                    
                // }
        
    </script>
</body>
</html>